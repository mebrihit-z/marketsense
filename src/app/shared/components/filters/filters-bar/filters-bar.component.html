<div class="filters-root">
    <div class="filters-container">
      <div class="filter-icon-container">
        <img src="assets/icons/filter-icon.svg" alt="Filter" class="filter-icon">
        <span class="filters-label">Filters:</span>
      </div>
      <div class="filters-list">
        <app-filter-dropdown
          title="Investor Region"
          [options]="investorRegionOptions"
          [selected]="state.investorRegion"
          (selectedChange)="onChange('investorRegion', $event)"
        ></app-filter-dropdown>

        <app-filter-dropdown
          title="Investor Type"
          [options]="investorTypeOptions"
          [selected]="state.investorType"
          (selectedChange)="onChange('investorType', $event)"
        ></app-filter-dropdown>

        <app-filter-dropdown
          title="Product Region"
          [options]="productRegionOptions"
          [selected]="state.productRegion"
          (selectedChange)="onChange('productRegion', $event)"
        ></app-filter-dropdown>

        <app-filter-dropdown
          title="Product Type"
          [options]="productTypeOptions"
          [selected]="state.productType"
          (selectedChange)="onChange('productType', $event)"
        ></app-filter-dropdown>

        <app-filter-dropdown
          title="Product Sub-Type"
          [groupedOptions]="productSubTypeOptions"
          [selected]="state.productSubType"
          (selectedChange)="onChange('productSubType', $event)"
        ></app-filter-dropdown>
      </div>
      <div class="clear-all-container">
        <button class="clear-all" (click)="clearAll()">Clear All Filters</button>
      </div>
    </div>
    <div class="ai-confidence-container">
      <p class="ai-confidence-label">AI Confidence</p>
      <div class="slider-wrapper">
        <div class="slider-label">Low</div>
        <div class="slider-container" #sliderContainer>
          <div class="slider-track">
            <div class="slider-dots">
              <div class="dot" *ngFor="let i of [0,1,2,3,4,5,6,7,8,9,10]"></div>
            </div>
            <div class="slider-track-background"></div>
            <div class="slider-track-active" 
                 [style.left.px]="getActiveTrackLeft()" 
                 [style.width.px]="getActiveTrackWidth()"></div>
          </div>
          <div class="slider-knob slider-knob-min" 
               [style.left.px]="getKnobPosition('min')"
               (mousedown)="startDrag($event, 'min')"
               (touchstart)="startDrag($event, 'min')"></div>
          <div class="slider-knob slider-knob-max" 
               [style.left.px]="getKnobPosition('max')"
               (mousedown)="startDrag($event, 'max')"
               (touchstart)="startDrag($event, 'max')"></div>
        </div>
        <div class="slider-label">High</div>
      </div>
    </div>
</div>
