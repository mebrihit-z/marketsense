<div class="dashboard-container" 
     [class.asset-allocation-pinned]="isAssetAllocationPinned"
     [class.asset-flows-pinned]="isAssetFlowsPinned">
  <!-- Filters Bar -->
  <app-filters-bar
    (dataTypeChange)="onDataTypeChange($event)"
    (timeHorizonChange)="onTimeHorizonChange($event)"
    (productSubTypeChange)="onProductSubTypeChange($event)"
    (productTypeChange)="onProductTypeChange($event)"
    (productRegionChange)="onProductRegionChange($event)">
  </app-filters-bar>

  <!-- Featured Market Flows Carousel -->
  <div class="carousel-section">
    <app-featured-market-flows-carousel 
      [cards]="filteredMarketFlowCards"
      [pinnedCardIds]="pinnedCardIds"
      [dataType]="carouselDataType"
      [selectedTimeHorizon]="carouselTimeHorizon"
      (pinCard)="onPinCard($event)">
    </app-featured-market-flows-carousel>
  </div>
  <!-- Asset Allocation Section -->
  <div class="asset-allocation-section" [class.pinned]="isAssetAllocationPinned">
    <app-asset-allocation 
      [selectedProductTypes]="selectedProductTypes"
      [selectedProductRegions]="selectedProductRegions"
      [selectedProductSubTypes]="selectedProductSubTypes"
      (pinToggle)="onAssetAllocationPinToggle()">
    </app-asset-allocation>
  </div>
  <!-- Asset Flows Section -->
  <div class="asset-flows-section" [class.pinned]="isAssetFlowsPinned">
    <app-asset-flows 
      [selectedProductTypes]="selectedProductTypes"
      [selectedProductSubTypes]="selectedProductSubTypes"
      (pinToggle)="onAssetFlowsPinToggle()">
    </app-asset-flows>
  </div>
</div>

